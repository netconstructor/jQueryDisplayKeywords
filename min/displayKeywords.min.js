!function(a){"use strict";a.fn.displayKeywords=function(b){var c=[],d=/[A-ZÜÖÄ_0-9]/g,e=-1===navigator.userAgent.indexOf("MSIE 7.0")?/[A-ZÜÖÄ_a-züäö_0-9]/g:/[A-ZÜÖÄa-züäö_0-9]/gi,f=a.extend({displayElement:"#pagekeywords",displayElementHeight:400,fontSizeFactor:.03,fontColors:["#ff9900","#000000","#cccccc"],wordMinSize:3,fontFamily:"Verdana, sans-serif",filterWords:["I","You","He","She","It","We","You","They","Me","You","Him","Her","It","Us","You","Them","My","Your","His","Her","Its","Our","Your","Their","This","That","These","Those","Mine","Yours","His","Hers","Ours","Yours","Theirs"],onlyCapitalWords:!0,dataOrigin:"DOM",dataUrl:"js/jQueryDisplayKeywords/php/data.php",dataParams:[{}],dataObject:[{ExampleOne:"Beautiful",ExampleTwo:"Web-based",ExampleThree:"user-interfaces",ExampleFour:"with",ExampleFive:"HTML5/JavaScript"},{ExampleOne:"Maintenance",ExampleTwo:"documentation",ExampleThree:"instruction",ExampleFour:"",ExampleFive:""},{ExampleOne:"Maintenance",ExampleTwo:"documentation",ExampleThree:"help-files",ExampleFour:"project-management",ExampleFive:""}],displayDataObjectProperties:!0},b),g=document.getElementById(f.displayElement.substring(1)).getBoundingClientRect(),h=function(b){var c,d,e,h,i,j,k=0,l=a(b);for(h=document.getElementById(b.substring(1)).getBoundingClientRect(),g=document.getElementById(f.displayElement.substring(1)).getBoundingClientRect(),window.console.log(l.selector+" "+h.top);h.left<g.left||h.right>g.right||h.left<0||h.right<0||h.bottom>g.bottom||h.top<g.top||h.top<=0;){for(i=parseInt(l.css("right").split("px")[0],10),h=document.getElementById(b.substring(1)).getBoundingClientRect(),g=document.getElementById(f.displayElement.substring(1)).getBoundingClientRect(),j=h.right+document.getElementById(b.substring(1)).clientWidth,window.console.log(l.selector+" "+g.top);h.top<g.top||h.top<=0;)window.console.log(l.selector+" "+g.top),window.console.log(h.top),d=parseInt(l.css("height"),10)+.2*parseInt(l.css("height"),10),l.css({top:d+"px"}),h=document.getElementById(b.substring(1)).getBoundingClientRect(),g=document.getElementById(f.displayElement.substring(1)).getBoundingClientRect(),j=h.right+document.getElementById(b.substring(1)).clientWidth;for(;h.bottom>g.bottom;)d=parseInt(l.css("top"),10)-.1*parseInt(l.css("top"),10),l.css({top:d+"px"}),h=document.getElementById(b.substring(1)).getBoundingClientRect(),g=document.getElementById(f.displayElement.substring(1)).getBoundingClientRect(),j=h.right+document.getElementById(b.substring(1)).clientWidth;c=parseInt(l.css("font-size"),10)-.1*parseInt(l.css("font-size"),10),d=Math.floor(Math.random()*(document.getElementById(f.displayElement.substring(1)).clientHeight+1))/60+Math.floor(Math.random()*(f.displayElementHeight/60+1)),e=parseInt(l.css("left"),10)<=5?Math.floor(11*Math.random()):parseInt(l.css("left"),10)-.2*parseInt(l.css("left"),10),l.css({left:e+"px","font-size":c+"px",width:"auto"}),k+=1,h=document.getElementById(b.substring(1)).getBoundingClientRect(),g=document.getElementById(f.displayElement.substring(1)).getBoundingClientRect(),j=h.right+document.getElementById(b.substring(1)).clientWidth,i=parseInt(l.css("right").split("px")[0],10)}parseInt(l.css("top"),10)<=0&&l.css({top:"2px"})},i=function(b){var g=f.onlyCapitalWords?d:e;a.each(b,function(b,d){var e=f.fontColors[Math.floor(Math.random()*f.fontColors.length)],i=d.replace(/[\.,-\/#!?$%\^&\*;:{}=\-_`~()]/g,""),j=Math.floor(Math.random()*(f.displayElementHeight*f.fontSizeFactor+1)),k=Math.floor(Math.random()*(document.getElementById(f.displayElement.substring(1)).scrollHeight+1))/100+Math.floor(Math.random()*(f.displayElementHeight/100+1)),l=Math.floor(Math.random()*(document.getElementById(f.displayElement.substring(1)).scrollWidth+1))/100+Math.floor(Math.random()*(f.displayElementHeight/100+1)),m={},n=b%2===0?"left":"right",o=0>=j?1:j;m=b%2===0?{"font-size":o+"em","float":n,position:"absolute",top:k+"em",left:l+"em",color:e}:m={"font-size":o+"em","float":n,position:"absolute",bottom:k+"em",left:l+"em",color:e},a(f.displayElement).css({"max-height":f.displayElementHeight,height:f.displayElementHeight,position:"relative",width:"100%"}),g.test(i.charAt(0))&&-1===a.inArray(i,c)&&i.length>f.wordMinSize&&-1===a.inArray(i,f.filterWords)&&(c.push(i),a("<div>").attr("id","_"+i).css(m).html(i).appendTo(f.displayElement),h("#_"+i))})},j=function(b){var i=f.onlyCapitalWords?d:e;a.each(b,function(b,d){var e=f.fontColors[Math.floor(Math.random()*f.fontColors.length)],j=Math.floor(Math.random()*(f.displayElementHeight*f.fontSizeFactor+1)),k=Math.floor(Math.random()*(g.top+1))/100+Math.floor(Math.random()*(f.displayElementHeight/100+1)),l=Math.floor(Math.random()*(g.bottom+1))/100+Math.floor(Math.random()*(f.displayElementHeight/100+1)),m=b%2===0?"left":"right",n={},o=0>=j?1:j;n=b%2===0?{"font-size":o+"em","float":m,position:"absolute",top:k+"em",left:l+"em",color:e}:n={"font-size":o+"em","float":m,position:"absolute",bottom:k+"em",left:l+"em",color:e},a(f.displayElement).css({"max-height":f.displayElementHeight,height:f.displayElementHeight,position:"relative",width:"100%"}),a.each(d,function(b,d){var e=d.replace(/[\.,-\/#!?$%\^&\*;:{}=\-_`~()]/g,"");i.test(e.charAt(0))&&-1===a.inArray(e,c)&&d.length>f.wordMinSize&&-1===a.inArray(e,f.filterWords)&&(c.push(e),a("<div>").attr("id","_"+e).css(n).html(e).appendTo(f.displayElement),h("#_"+e))})})};return"DOM"===f.dataOrigin?this.children().each(function(b,c){var d=[];a(f.displayElement).css("position","relative"),null===c.firstChild||3!==c.firstChild.nodeType||void 0===c.textContent&&void 0===c.innerText||(d=void 0===c.innerText||null===c.innerText?c.textContent.split(/\s/g):c.innerText.split(/\s/g)),i(d)}):("JSON"===f.dataOrigin&&a.ajax({type:"GET",url:f.dataUrl,data:{params:f.dataParams},success:function(b){i(a.parseJSON(b))}}),"OBJECT"===f.dataOrigin?j(f.dataObject):void 0)}}(jQuery);