!function(a){"use strict";a.fn.displayKeywords=function(b){var c=[],d=/[A-ZÜÖÄ_0-9]/g,e=-1===navigator.userAgent.indexOf("MSIE 7.0")?/[A-ZÜÖÄ_a-züäö_0-9]/g:/[A-ZÜÖÄa-züäö_0-9]/gi,f=a.extend({displayElement:"#pagekeywords",displayElementHeight:400,fontSizeFactor:.03,fontColors:["#ff9900","#000000","#cccccc"],wordMinSize:3,fontFamily:"Verdana, sans-serif",filterWords:["I","You","He","She","It","We","You","They","Me","You","Him","Her","It","Us","You","Them","My","Your","His","Her","Its","Our","Your","Their","This","That","These","Those","Mine","Yours","His","Hers","Ours","Yours","Theirs"],onlyCapitalWords:!0},b),g=function(b,c){for(var d,e,f=document.getElementById(b.substring(1)).getBoundingClientRect(),g=a(b);f.left<c.left||f.right>c.right;)d=parseInt(g.css("font-size"),10)-1,"auto"!==g.css("left")?g.css({left:"1em","font-size":d+"px"}):g.css({right:"1em","font-size":d+"px"}),f=document.getElementById(b.substring(1)).getBoundingClientRect();for(;f.bottom>c.bottom;)e=parseInt(g.css("top"),10)-10,g.css({top:e+"px"}),f=document.getElementById(b.substring(1)).getBoundingClientRect();parseInt(g.css("top"),10)<=0&&g.css({top:"2px"})};return this.children().each(function(b,h){var i,j=[],k=f.onlyCapitalWords?d:e;a(f.displayElement).css("position","relative"),i=document.getElementById(f.displayElement.substring(1)).getBoundingClientRect(),null!==h.firstChild&&3===h.firstChild.nodeType&&void 0!==h.innerText&&(j=h.innerText.split(/\s/g)),a.each(j,function(b,d){var e=f.fontColors[Math.floor(Math.random()*f.fontColors.length)],h=d.replace(/[\.,-\/#!?'$%\^&\*;:{}=\-_`~()]/g,""),j=Math.floor(Math.random()*(f.displayElementHeight*f.fontSizeFactor+1)),l=Math.floor(Math.random()*(i.top+1))/100+Math.floor(Math.random()*(f.displayElementHeight/100+1)),m=Math.floor(Math.random()*(i.bottom+1))/100+Math.floor(Math.random()*(f.displayElementHeight/100+1)),n=0===b%2?"left":"right",o={},p=0>=j?1:j;o=0===b%2?{"font-size":p+"em","float":n,position:"absolute",top:l+"em",left:m+"em",color:e}:{"font-size":p+"em","float":n,position:"absolute",top:l+"em",right:m+"em",color:e},k.test(h.charAt(0))&&-1===a.inArray(h,c)&&h.length>f.wordMinSize&&-1===a.inArray(h,f.filterWords)&&(c.push(h),a("<div>").attr("id","_"+h).css(o).html(h).appendTo(f.displayElement),a(f.displayElement).css({"max-height":f.displayElementHeight,height:f.displayElementHeight}),g("#_"+h,i))})})}}(jQuery);
